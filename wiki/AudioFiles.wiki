#labels Featured,Phase-Implementation
= Audio files for Word-DVD=

 * Audio files must be AC3 encoded at 48000Hz sample rate.
 * Not all chapters need to have an audio file.
 * Audio can be mono or stereo.
 * Audio files need to be placed in the "Audio Directory" listed on the word-dvd control window (and make sure the "none" checkbox to the right of the directory box is unchecked).
 * Audio files need one of the following naming conventions:

 # `<AudioPrefix>-<Book>-<Chapter>.ac3` (for example: en-Mark-1.ac3)
 # `<AudioPrefix>-<Book>-<Chapter1>-<Chapter2>.ac3` (en-Mark-1-5.ac3)
 # `<AudioPrefix>-<Book>-<Chapter>:<Verse1>-<Verse2>.ac3` (en-Mark-1:12-22.ac3)
 # `<AudioPrefix>-<Book>-<Chapter1>:<Verse1>-<Chapter2>:<Verse2>.ac3` (en-Mark-3:6-5:4.ac3)

`AudioPrefix` and `Book` must appear in the appropriate place in the config.txt file which is located in the Word-DVD inputs directory.

== Converting to AC3 ==
Included with Word-DVD is a [http://code.google.com/p/word-dvd/source/browse/trunk/script/utilities/mp3towav.pl perl script] which converts mp3 into 48000Hz sampled wav files using sox (sox may need to be compiled locally with mp3 enabled for this script to work). To convert 48000hz sample rate wav files to ac3 you can use ffmpeg. Type "man ffmpeg" to see what all it can do. Here is the simplest case: 

ffmpeg -i audioFile.wav -acodec ac3 -ar 48000 audioFile.ac3

Depending on the content size of your final DVD, you may need to adjust the bitrate of AC3 files to reduce their size. The sum total of audio files should not exceed roughly 3.5GB to be able to fit onto a standard DVD.

== Audio Page Timing==
Automatic transition points for DVD chapters which have audio are calculated automatically. But sometimes inaccuracies in the calculated page timings are noticeable and need manual correction. The [http://code.google.com/p/word-dvd/source/browse/trunk/pageTiming.txt pageTiming.txt] file is used to provide exact transition timing values. A tool is provided to fairly quickly add timing values to this file. Run xtransitions.sh in the `OUTPUTS/script` directory without arguments to see usage info.